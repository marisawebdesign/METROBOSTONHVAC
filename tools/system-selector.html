<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Selector Quiz | Metro Boston HVAC</title>
    <meta name="description" content="Not sure which HVAC system is right for your home? Take our free 5-question quiz to get a personalized recommendation backed by 30+ years of contractor expertise.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Source+Sans+3:wght@400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../chat-widget.css">
    <style>
        /* ==================== QUIZ PAGE OVERRIDES ==================== */
        :root {
            --green: #1a8a5c;
            --red: #dc2626;
        }

        body {
            background: var(--gray-50);
        }

        /* ==================== PAGE HERO ==================== */
        .page-hero {
            background: linear-gradient(135deg, var(--navy-dark) 0%, var(--navy) 60%, var(--navy-light) 100%);
            padding: 140px 24px 60px;
            text-align: center;
        }

        .page-hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .page-hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.15);
            padding: 6px 14px;
            margin-bottom: 16px;
            font-size: 12px;
            font-weight: 600;
            color: var(--orange);
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .page-hero-badge svg {
            width: 14px;
            height: 14px;
        }

        .page-hero h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(36px, 6vw, 56px);
            color: var(--white);
            letter-spacing: 2px;
            line-height: 1.1;
            margin-bottom: 16px;
        }

        .page-hero h1 .accent { color: var(--orange); }

        .page-hero p {
            font-size: 18px;
            color: rgba(255,255,255,0.8);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* ==================== QUIZ INTRO ==================== */
        .quiz-intro {
            max-width: 760px;
            margin: -30px auto 0;
            padding: 0 24px;
            position: relative;
            z-index: 10;
        }

        .quiz-intro-card {
            background: var(--white);
            padding: 32px 36px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 0;
        }

        .quiz-intro-card p {
            font-size: 16px;
            color: var(--gray-600);
            line-height: 1.7;
            margin-bottom: 16px;
        }

        .quiz-intro-card p:last-child {
            margin-bottom: 0;
        }

        .quiz-intro-features {
            display: flex;
            gap: 24px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-200);
        }

        .quiz-intro-feature {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: var(--navy);
        }

        .quiz-intro-feature svg {
            width: 18px;
            height: 18px;
            color: var(--orange);
            flex-shrink: 0;
        }

        /* ==================== QUIZ CONTAINER ==================== */
        .quiz-container {
            max-width: 760px;
            margin: 32px auto 0;
            padding: 0 24px 48px;
        }

        .quiz-card {
            background: var(--white);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 0;
            overflow: hidden;
        }

        /* Progress bar */
        .quiz-progress {
            background: var(--gray-100);
            padding: 16px 28px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--gray-200);
        }

        .quiz-progress-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-600);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .quiz-progress-bar {
            flex: 1;
            height: 6px;
            background: var(--gray-200);
            margin: 0 16px;
            border-radius: 0;
            overflow: hidden;
        }

        .quiz-progress-fill {
            height: 100%;
            background: var(--orange);
            width: 0%;
            transition: width 0.4s ease;
        }

        .quiz-progress-step {
            font-size: 13px;
            font-weight: 600;
            color: var(--navy);
        }

        /* Question area */
        .quiz-body {
            padding: 36px 28px;
        }

        .quiz-question {
            display: none;
        }

        .quiz-question.active {
            display: block;
        }

        .quiz-question h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 28px;
            color: var(--navy);
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .quiz-question-desc {
            font-size: 15px;
            color: var(--gray-600);
            margin-bottom: 24px;
        }

        /* Option cards */
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            position: relative;
        }

        .quiz-option input[type="radio"] {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        .quiz-option label {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            padding: 16px 20px;
            background: var(--white);
            border: 2px solid var(--gray-200);
            border-radius: 0;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .quiz-option label:hover {
            border-color: var(--navy-light);
        }

        .quiz-option input[type="radio"]:checked + label {
            border-color: var(--orange);
            background: #fff8f5;
        }

        .quiz-option-radio {
            width: 22px;
            height: 22px;
            border: 2px solid var(--gray-400);
            border-radius: 50%;
            flex-shrink: 0;
            margin-top: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .quiz-option input[type="radio"]:checked + label .quiz-option-radio {
            border-color: var(--orange);
        }

        .quiz-option input[type="radio"]:checked + label .quiz-option-radio::after {
            content: '';
            width: 12px;
            height: 12px;
            background: var(--orange);
            border-radius: 50%;
        }

        .quiz-option-text {
            flex: 1;
        }

        .quiz-option-title {
            font-weight: 700;
            font-size: 16px;
            color: var(--gray-800);
            margin-bottom: 2px;
        }

        .quiz-option-desc {
            font-size: 13px;
            color: var(--gray-600);
            line-height: 1.4;
        }

        /* Navigation buttons */
        .quiz-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 28px;
            border-top: 1px solid var(--gray-200);
            background: var(--gray-50);
        }

        .quiz-btn {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 18px;
            letter-spacing: 1.5px;
            padding: 12px 28px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 0;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .quiz-btn svg {
            width: 16px;
            height: 16px;
        }

        .quiz-btn-back {
            background: none;
            color: var(--gray-600);
            padding: 12px 16px;
        }

        .quiz-btn-back:hover {
            color: var(--navy);
        }

        .quiz-btn-next {
            background: var(--orange);
            color: var(--white);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .quiz-btn-next:hover {
            background: var(--orange-glow);
        }

        .quiz-btn-next:disabled {
            background: var(--gray-400);
            cursor: not-allowed;
            box-shadow: none;
        }

        .quiz-btn-next:disabled:hover {
            background: var(--gray-400);
        }

        .quiz-btn-start {
            background: var(--orange);
            color: var(--white);
            font-size: 20px;
            padding: 14px 36px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .quiz-btn-start:hover {
            background: var(--orange-glow);
        }

        /* Start screen */
        .quiz-start {
            text-align: center;
            padding: 48px 28px;
        }

        .quiz-start h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 32px;
            color: var(--navy);
            letter-spacing: 1px;
            margin-bottom: 12px;
        }

        .quiz-start .accent { color: var(--orange); }

        .quiz-start p {
            font-size: 16px;
            color: var(--gray-600);
            margin-bottom: 28px;
            max-width: 480px;
            margin-left: auto;
            margin-right: auto;
        }

        /* ==================== RESULTS SECTION ==================== */
        .quiz-results {
            display: none;
        }

        .quiz-results.visible {
            display: block;
        }

        .results-header {
            background: linear-gradient(135deg, var(--navy-dark), var(--navy));
            padding: 28px 28px;
            text-align: center;
        }

        .results-header-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,107,53,0.2);
            border: 1px solid rgba(255,107,53,0.3);
            padding: 5px 12px;
            margin-bottom: 12px;
            font-size: 11px;
            font-weight: 700;
            color: var(--orange);
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .results-header h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 36px;
            color: var(--white);
            letter-spacing: 2px;
            margin-bottom: 4px;
        }

        .results-header p {
            font-size: 15px;
            color: rgba(255,255,255,0.7);
        }

        .results-body {
            padding: 32px 28px;
        }

        .results-system-name {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 28px;
            color: var(--navy);
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .results-system-tagline {
            font-size: 15px;
            color: var(--gray-600);
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--gray-200);
        }

        .results-why-title {
            font-weight: 700;
            font-size: 15px;
            color: var(--navy);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .results-reasons {
            list-style: none;
            margin-bottom: 24px;
        }

        .results-reasons li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 8px 0;
            font-size: 15px;
            color: var(--gray-800);
            line-height: 1.5;
        }

        .results-reasons li svg {
            width: 18px;
            height: 18px;
            color: var(--green);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .results-benefits {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            padding: 20px 24px;
            margin-bottom: 28px;
            border-radius: 0;
        }

        .results-benefits-title {
            font-weight: 700;
            font-size: 14px;
            color: var(--navy);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }

        .results-benefits ul {
            list-style: none;
        }

        .results-benefits li {
            font-size: 14px;
            color: var(--gray-600);
            padding: 4px 0;
            padding-left: 18px;
            position: relative;
        }

        .results-benefits li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 11px;
            width: 8px;
            height: 8px;
            background: var(--orange);
            border-radius: 0;
        }

        .results-cta {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .results-cta-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 20px;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 18px;
            letter-spacing: 1.5px;
            text-decoration: none;
            border-radius: 0;
            transition: all 0.2s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .results-cta-btn svg {
            width: 18px;
            height: 18px;
        }

        .results-cta-quote {
            background: var(--orange);
            color: var(--white);
        }

        .results-cta-quote:hover {
            background: var(--orange-glow);
        }

        .results-cta-call {
            background: var(--navy);
            color: var(--white);
        }

        .results-cta-call:hover {
            background: var(--navy-light);
        }

        .results-retake {
            text-align: center;
        }

        .results-retake button {
            background: none;
            border: none;
            color: var(--gray-600);
            font-size: 14px;
            cursor: pointer;
            text-decoration: underline;
            padding: 8px;
        }

        .results-retake button:hover {
            color: var(--navy);
        }

        /* ==================== FOOTER ==================== */
        .site-footer {
            background: var(--navy-dark);
            padding: 32px 24px;
            text-align: center;
        }

        .footer-inner {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-phone {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 28px;
            color: white;
            text-decoration: none;
            letter-spacing: 2px;
            display: block;
            margin-bottom: 8px;
        }

        .footer-phone:hover { color: var(--orange); }

        .footer-tagline {
            font-size: 14px;
            color: rgba(255,255,255,0.6);
            margin-bottom: 16px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .footer-links a {
            color: rgba(255,255,255,0.5);
            text-decoration: none;
            font-size: 13px;
            font-weight: 600;
            transition: color 0.2s;
        }

        .footer-links a:hover { color: var(--orange); }

        .footer-copy {
            font-size: 12px;
            color: rgba(255,255,255,0.3);
        }

        .footer-copy a { color: rgba(255,255,255,0.5); text-decoration: none; }

        /* ==================== ANIMATIONS ==================== */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(16px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .quiz-question.active {
            animation: fadeInUp 0.35s ease forwards;
        }

        .quiz-results.visible {
            animation: fadeInUp 0.5s ease forwards;
        }

        .quiz-option label {
            transition: all 0.2s ease;
        }

        .quiz-option label:active {
            transform: scale(0.98);
        }

        .quiz-btn-next {
            transition: all 0.2s ease;
        }

        .quiz-btn-next:not(:disabled):active {
            transform: scale(0.97);
        }

        .quiz-progress-fill {
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ==================== RESPONSIVE (quiz-specific only) ==================== */
        @media (max-width: 1024px) {
            .page-hero { padding: 120px 24px 50px; }
        }

        @media (max-width: 768px) {
            .page-hero { padding: 110px 16px 40px; }
            .page-hero p { font-size: 16px; }
            .quiz-intro { padding: 0 16px; margin-top: -20px; }
            .quiz-intro-card { padding: 24px; }
            .quiz-intro-features { flex-direction: column; gap: 12px; }
            .quiz-container { padding: 0 16px 40px; margin-top: 24px; }
            .quiz-body { padding: 24px 20px; }
            .quiz-nav { padding: 16px 20px; }
            .quiz-question h2 { font-size: 24px; }
            .results-body { padding: 24px 20px; }
            .results-cta { flex-direction: column; }
            .results-header h2 { font-size: 28px; }
        }

        @media (max-width: 480px) {
            .page-hero h1 { font-size: 32px; }
            .page-hero-badge { font-size: 11px; padding: 5px 10px; }
            .quiz-start h2 { font-size: 26px; }
            .quiz-start p { font-size: 15px; }
            .quiz-option label { padding: 14px 16px; gap: 10px; }
            .quiz-option-title { font-size: 15px; }
            .quiz-option-desc { font-size: 12px; }
            .quiz-btn-next { padding: 12px 22px; font-size: 16px; }
            .quiz-btn-back { font-size: 16px; }
            .results-system-name { font-size: 24px; }
            .results-cta-btn { font-size: 16px; padding: 12px 16px; }
            .quiz-intro-card p { font-size: 15px; }
        }
    </style>
</head>
<body>

    <!-- ==================== HEADER TOP BAR ==================== -->
    <header class="header-top">
        <div class="header-top-inner">
            <a href="../index.html" class="logo"><img src="../images/logo.jpg" alt="Metro Boston HVAC - 24/7 Service"></a>
            <span class="header-mobile-name">METRO <span>BOSTON</span> HVAC</span>
            <div class="header-phone">
                <div class="header-phone-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg></div>
                <div class="header-phone-info">
                    <a href="tel:7814082506" class="header-phone-number">(781) 408-2506</a>
                    <span class="header-phone-label">Emergency Services Available</span>
                </div>
            </div>
            <div class="header-trust-badges">
                <div class="trust-badge"><div class="trust-badge-icon emergency"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></div><span class="trust-badge-label">Emergency Service Repair Specialists</span></div>
                <div class="trust-badge"><div class="trust-badge-icon licensed"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L4 6v6c0 5.5 3.4 10.7 8 12 4.6-1.3 8-6.5 8-12V6l-8-4z"/><path d="M9 12l2 2 4-4" stroke="#ff6b35" stroke-width="2.5"/></svg></div><span class="trust-badge-label">Licensed &amp; Insured #081600137</span></div>
                <div class="trust-badge"><div class="trust-badge-icon reviews"><svg viewBox="0 0 24 24" fill="white" stroke="none"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div><span class="trust-badge-label">Excellent Customer Reviews</span></div>
                <div class="trust-badge"><div class="trust-badge-icon local"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="M12 11c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z" fill="#ff6b35" stroke="#ff6b35"/></svg></div><span class="trust-badge-label">Locally Owned &amp; Operated</span></div>
                <div class="trust-badge"><div class="trust-badge-icon price"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L4 6v6c0 5.5 3.4 10.7 8 12 4.6-1.3 8-6.5 8-12V6l-8-4z"/><text x="12" y="16" text-anchor="middle" font-family="Arial" font-weight="800" font-size="10" fill="white" stroke="none">$</text></svg></div><span class="trust-badge-label">Price Match Guarantee</span></div>
            </div>
            <a href="../quote.html" class="get-service-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg> BOOK AN APPOINTMENT ONLINE</a>
            <button class="mobile-toggle" aria-label="Menu" onclick="document.getElementById('mobileMenu').classList.add('active')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button>
        </div>
    </header>

    <!-- ==================== NAVIGATION BAR ==================== -->
    <nav class="header-nav">
        <div class="header-nav-inner">
            <div class="main-nav">
                <div class="nav-item"><a href="../index.html" class="nav-link">Home</a></div>
                <div class="nav-item">
                    <a href="../services.html" class="nav-link">Services <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></a>
                    <div class="dropdown">
                        <a href="../services.html#diagnostics" class="dropdown-link">Basic Diagnostics</a>
                        <a href="../services.html#emergency-repair" class="dropdown-link">Emergency Repair</a>
                        <a href="../services.html#maintenance" class="dropdown-link">Annual Maintenance</a>
                        <a href="../services.html#installation" class="dropdown-link">New-Unit Installation</a>
                        <a href="../services.html#heat-pumps" class="dropdown-link">Heat Pump Installation</a>
                        <a href="../services.html#commercial" class="dropdown-link">Commercial Maintenance</a>
                    </div>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link">Resources <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></a>
                    <div class="dropdown">
                        <a href="../quote.html" class="dropdown-link">Instant Quote</a>
                        <a href="btu-calculator.html" class="dropdown-link">HVAC BTU Size Calculator</a>
                        <a href="system-selector.html" class="dropdown-link">System Selector Quiz</a>
                        <a href="../printouts.html" class="dropdown-link">Printouts, Calendars &amp; Guides</a>
                    </div>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link">About Us <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></a>
                    <div class="dropdown">
                        <a href="../mission.html" class="dropdown-link">Our Mission</a>
                        <a href="../careers.html" class="dropdown-link">Careers</a>
                        <a href="../service-area.html" class="dropdown-link">Service Area</a>
                    </div>
                </div>
                <div class="nav-item"><a href="../offers.html" class="nav-link">Offers</a></div>
                <div class="nav-item"><a href="../contact.html" class="nav-link">Contact Us</a></div>
                <div class="nav-item"><a href="../book-appointment.html" class="nav-link nav-cta">Book an Appointment</a></div>
            </div>
        </div>
    </nav>

    <!-- ==================== MOBILE MENU ==================== -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <span class="logo-text">METRO <span>BOSTON</span> HVAC</span>
            <button class="mobile-menu-close" aria-label="Close menu" onclick="document.getElementById('mobileMenu').classList.remove('active')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
        </div>
        <div class="mobile-trust-strip">
            <div class="mobile-trust-item"><div class="mobile-trust-icon emergency"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></div><span>Emergency Repair</span></div>
            <div class="mobile-trust-item"><div class="mobile-trust-icon licensed"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L4 6v6c0 5.5 3.4 10.7 8 12 4.6-1.3 8-6.5 8-12V6l-8-4z"/><path d="M9 12l2 2 4-4" stroke="#ff6b35" stroke-width="2.5"/></svg></div><span>Licensed &amp; Insured</span></div>
            <div class="mobile-trust-item"><div class="mobile-trust-icon reviews"><svg viewBox="0 0 24 24" fill="white" stroke="none"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div><span>Excellent Reviews</span></div>
            <div class="mobile-trust-item"><div class="mobile-trust-icon local"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="M12 11c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z" fill="#ff6b35" stroke="#ff6b35"/></svg></div><span>Locally Owned</span></div>
            <div class="mobile-trust-item"><div class="mobile-trust-icon price"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L4 6v6c0 5.5 3.4 10.7 8 12 4.6-1.3 8-6.5 8-12V6l-8-4z"/><text x="12" y="16" text-anchor="middle" font-family="Arial" font-weight="800" font-size="10" fill="white" stroke="none">$</text></svg></div><span>Price Match</span></div>
        </div>
        <div class="mobile-book-appointment">
            <a href="../book-appointment.html" class="mobile-book-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg> Book an Appointment Online</a>
        </div>
        <div class="mobile-menu-links">
            <a href="../index.html">Home</a>
            <div class="mobile-accordion">
                <button class="mobile-accordion-toggle">Services <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></button>
                <div class="mobile-accordion-content">
                    <a href="../services.html#diagnostics">Basic Diagnostics</a>
                    <a href="../services.html#emergency-repair">Emergency Repair</a>
                    <a href="../services.html#maintenance">Annual Maintenance</a>
                    <a href="../services.html#installation">New-Unit Installation</a>
                    <a href="../services.html#heat-pumps">Heat Pump Installation</a>
                    <a href="../services.html#commercial">Commercial Maintenance</a>
                </div>
            </div>
            <div class="mobile-accordion">
                <button class="mobile-accordion-toggle">Resources <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></button>
                <div class="mobile-accordion-content">
                    <a href="../quote.html">Instant Quote</a>
                    <a href="btu-calculator.html">HVAC BTU Size Calculator</a>
                    <a href="system-selector.html">System Selector Quiz</a>
                    <a href="../printouts.html">Printouts, Calendars &amp; Guides</a>
                </div>
            </div>
            <div class="mobile-accordion">
                <button class="mobile-accordion-toggle">About Us <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg></button>
                <div class="mobile-accordion-content">
                    <a href="../mission.html">Our Mission</a>
                    <a href="../careers.html">Careers</a>
                    <a href="../service-area.html">Service Area</a>
                </div>
            </div>
            <a href="../offers.html">Offers</a>
            <a href="../contact.html">Contact Us</a>
        </div>
        <div class="mobile-quote-btn-wrap">
            <a href="../reviews.html" class="mobile-quote-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg> Reviews</a>
        </div>
        <div class="mobile-menu-cta">
            <a href="tel:7814082506" class="mobile-call-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg> Call (781) 408-2506</a>
            <a href="../quote.html" class="mobile-service-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg> Get Service</a>
        </div>
    </div>

    <!-- ==================== PAGE HERO ==================== -->
    <section class="page-hero">
        <div class="page-hero-content">
            <div class="page-hero-badge">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
                Free HVAC Assessment Tool
            </div>
            <h1>System Selector <span class="accent">Quiz</span></h1>
            <p>Answer a few quick questions and we'll recommend the ideal heating and cooling system for your home.</p>
        </div>
    </section>

    <!-- ==================== QUIZ INTRO ==================== -->
    <div class="quiz-intro">
        <div class="quiz-intro-card">
            <p>Not sure which heating and cooling system is right for your home? This quick 5-question quiz analyzes your home's needs, budget, and priorities to recommend the perfect HVAC solution. Get personalized results in under 2 minutes, backed by 30+ years of contractor expertise.</p>
            <div class="quiz-intro-features">
                <div class="quiz-intro-feature">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                    Takes under 2 minutes
                </div>
                <div class="quiz-intro-feature">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
                    5 simple questions
                </div>
                <div class="quiz-intro-feature">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    Expert-backed results
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== QUIZ CONTAINER ==================== -->
    <div class="quiz-container">
        <div class="quiz-card">

            <!-- Progress bar (hidden until quiz starts) -->
            <div class="quiz-progress" id="quizProgress" style="display:none;">
                <span class="quiz-progress-label">Progress</span>
                <div class="quiz-progress-bar">
                    <div class="quiz-progress-fill" id="quizProgressFill"></div>
                </div>
                <span class="quiz-progress-step" id="quizProgressStep">1 / 5</span>
            </div>

            <!-- Start screen -->
            <div class="quiz-start" id="quizStart">
                <h2>Ready to Find Your <span class="accent">Perfect System</span>?</h2>
                <p>We'll walk you through a few questions about your home and preferences to match you with the right HVAC solution.</p>
                <button class="quiz-btn quiz-btn-start" onclick="startQuiz()">
                    Start the Quiz
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                </button>
            </div>

            <!-- Questions will be inserted here by Phase 2 -->
            <div id="quizQuestions"></div>

            <!-- Navigation (hidden until quiz starts) -->
            <div class="quiz-nav" id="quizNav" style="display:none;">
                <button class="quiz-btn quiz-btn-back" id="quizBack" onclick="prevQuestion()" style="visibility:hidden;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                    Back
                </button>
                <button class="quiz-btn quiz-btn-next" id="quizNext" onclick="nextQuestion()" disabled>
                    Next
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                </button>
            </div>

            <!-- Results (hidden until quiz complete) -->
            <div class="quiz-results" id="quizResults"></div>

        </div>
    </div>

    <!-- ==================== FOOTER ==================== -->
    <footer class="site-footer">
        <div class="footer-inner">
            <a href="tel:7814082506" class="footer-phone">(781) 408-2506</a>
            <p class="footer-tagline">24/7 Emergency HVAC Services — Greater Boston & South Shore</p>
            <div class="footer-links">
                <a href="../index.html">Home</a>
                <a href="../services.html">Services</a>
                <a href="../quote.html">Get a Quote</a>
                <a href="../offers.html">Offers</a>
                <a href="../contact.html">Contact</a>
            </div>
            <p class="footer-copy">&copy; 2026 Metro Boston HVAC. MA License #081600137. Locally owned & operated.</p>
        </div>
    </footer>

<!-- ==================== QUIZ JAVASCRIPT ==================== -->
<script>
(function() {

    // ==================== QUIZ DATA ====================
    var questions = [
        {
            id: 'home-type',
            title: 'Tell Us About Your Home',
            desc: 'What type of home do you have, and roughly how large is it?',
            options: [
                { value: 'small-single', title: 'Small Single-Family', desc: 'Under 1,500 sq ft — ranch, cape, cottage' },
                { value: 'mid-single', title: 'Mid-Size Single-Family', desc: '1,500–2,500 sq ft — colonial, split-level, raised ranch' },
                { value: 'large-single', title: 'Large Single-Family', desc: 'Over 2,500 sq ft — larger colonial, contemporary, custom build' },
                { value: 'multi-family', title: 'Multi-Family or Condo', desc: 'Duplex, triple-decker, townhouse, or condo unit' }
            ]
        },
        {
            id: 'current-system',
            title: 'Your Current System',
            desc: 'What best describes your existing heating and cooling setup?',
            options: [
                { value: 'old-furnace', title: 'Aging Furnace & AC', desc: 'Traditional system that\'s 10+ years old or needing frequent repairs' },
                { value: 'boiler-no-ac', title: 'Boiler or Radiators, No AC', desc: 'Hot water or steam heat with no central cooling' },
                { value: 'newer-system', title: 'Newer System, Want to Upgrade', desc: 'Working system under 10 years old, but looking for better efficiency' },
                { value: 'no-ductwork', title: 'No Ductwork', desc: 'Window units, space heaters, or no central system at all' }
            ]
        },
        {
            id: 'budget',
            title: 'Budget Priority',
            desc: 'What matters more to you when investing in a new HVAC system?',
            options: [
                { value: 'low-upfront', title: 'Lower Upfront Cost', desc: 'Keep the initial investment as affordable as possible' },
                { value: 'balanced', title: 'Best Value Overall', desc: 'A balance between upfront cost and long-term energy savings' },
                { value: 'long-term', title: 'Long-Term Savings', desc: 'Willing to invest more now to save significantly on energy bills over time' }
            ]
        },
        {
            id: 'efficiency',
            title: 'Energy Efficiency Goals',
            desc: 'How important is reducing your monthly energy bills?',
            options: [
                { value: 'not-priority', title: 'Not a Top Priority', desc: 'I just need reliable heating and cooling that works' },
                { value: 'somewhat', title: 'Somewhat Important', desc: 'I\'d like to see lower bills, but it\'s not the deciding factor' },
                { value: 'very-important', title: 'Very Important', desc: 'I want the most energy-efficient option available — lower bills and smaller carbon footprint' }
            ]
        },
        {
            id: 'comfort',
            title: 'Comfort Needs',
            desc: 'Which comfort issue matters most to you? Pick the one that\'s been the biggest headache.',
            options: [
                { value: 'uneven-temps', title: 'Uneven Temperatures', desc: 'Some rooms are too hot while others are too cold' },
                { value: 'humidity', title: 'Humidity Problems', desc: 'Too dry in winter, too muggy in summer' },
                { value: 'noise', title: 'Noise Levels', desc: 'Current system is loud and disruptive' },
                { value: 'air-quality', title: 'Air Quality & Allergies', desc: 'Dust, allergens, or stale air circulating through the home' }
            ]
        }
    ];

    var currentQuestion = 0;
    var totalQuestions = questions.length;
    var answers = {};

    // ==================== BUILD QUESTIONS ====================
    function buildQuestions() {
        var container = document.getElementById('quizQuestions');
        var html = '';

        for (var i = 0; i < questions.length; i++) {
            var q = questions[i];
            html += '<div class="quiz-body quiz-question" id="question-' + i + '">';
            html += '<h2>' + q.title + '</h2>';
            html += '<p class="quiz-question-desc">' + q.desc + '</p>';
            html += '<div class="quiz-options">';

            for (var j = 0; j < q.options.length; j++) {
                var opt = q.options[j];
                var inputId = q.id + '-' + opt.value;
                html += '<div class="quiz-option">';
                html += '<input type="radio" name="' + q.id + '" id="' + inputId + '" value="' + opt.value + '">';
                html += '<label for="' + inputId + '">';
                html += '<div class="quiz-option-radio"></div>';
                html += '<div class="quiz-option-text">';
                html += '<div class="quiz-option-title">' + opt.title + '</div>';
                html += '<div class="quiz-option-desc">' + opt.desc + '</div>';
                html += '</div>';
                html += '</label>';
                html += '</div>';
            }

            html += '</div>';
            html += '</div>';
        }

        container.innerHTML = html;

        // Add change listeners to all radio buttons
        var radios = container.querySelectorAll('input[type="radio"]');
        for (var k = 0; k < radios.length; k++) {
            radios[k].addEventListener('change', function() {
                answers[this.name] = this.value;
                document.getElementById('quizNext').disabled = false;
            });
        }
    }

    // ==================== NAVIGATION ====================
    function startQuiz() {
        document.getElementById('quizStart').style.display = 'none';
        document.getElementById('quizProgress').style.display = 'flex';
        document.getElementById('quizNav').style.display = 'flex';
        showQuestion(0);
    }

    function showQuestion(index) {
        // Hide all questions
        var allQ = document.querySelectorAll('.quiz-question');
        for (var i = 0; i < allQ.length; i++) {
            allQ[i].classList.remove('active');
        }

        // Show target question
        var target = document.getElementById('question-' + index);
        if (target) target.classList.add('active');

        currentQuestion = index;
        updateProgress();
        updateNav();

        // Check if this question already has an answer
        var qId = questions[index].id;
        var selected = document.querySelector('input[name="' + qId + '"]:checked');
        document.getElementById('quizNext').disabled = !selected;
    }

    function nextQuestion() {
        if (currentQuestion < totalQuestions - 1) {
            showQuestion(currentQuestion + 1);
        } else {
            showResults();
        }
    }

    function prevQuestion() {
        if (currentQuestion > 0) {
            showQuestion(currentQuestion - 1);
        }
    }

    function updateProgress() {
        var pct = ((currentQuestion + 1) / totalQuestions) * 100;
        document.getElementById('quizProgressFill').style.width = pct + '%';
        document.getElementById('quizProgressStep').textContent = (currentQuestion + 1) + ' / ' + totalQuestions;
    }

    function updateNav() {
        document.getElementById('quizBack').style.visibility = currentQuestion === 0 ? 'hidden' : 'visible';
        var nextBtn = document.getElementById('quizNext');
        if (currentQuestion === totalQuestions - 1) {
            nextBtn.innerHTML = 'See Results <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><polyline points="9 18 15 12 9 6"/></svg>';
        } else {
            nextBtn.innerHTML = 'Next <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><polyline points="9 18 15 12 9 6"/></svg>';
        }
    }

    // ==================== SYSTEM RECOMMENDATIONS ====================
    var systems = {
        'split': {
            name: 'Traditional Furnace & AC Split System',
            tagline: 'The tried-and-true choice for reliable, budget-friendly whole-home comfort.',
            reasons: [],
            benefits: [
                'Proven technology trusted in millions of homes across New England',
                'Wide range of models and price points to fit any budget',
                'Easy to find replacement parts and qualified technicians',
                'Compatible with standard ductwork already in most homes'
            ]
        },
        'heat-pump': {
            name: 'Heat Pump System',
            tagline: 'One system that heats and cools — efficient, versatile, and built for Massachusetts weather.',
            reasons: [],
            benefits: [
                'Heats and cools with a single system — no separate furnace and AC',
                'Up to 3x more energy-efficient than traditional heating',
                'Eligible for Mass Save rebates and federal tax credits',
                'Handles New England winters with modern cold-climate technology'
            ]
        },
        'mini-split': {
            name: 'Ductless Mini-Split System',
            tagline: 'Flexible zone control without the need for ductwork — ideal for older homes and additions.',
            reasons: [],
            benefits: [
                'No ductwork required — installs in almost any home',
                'Individual temperature control for each room or zone',
                'Whisper-quiet operation with no noisy indoor blower',
                'Extremely energy-efficient with inverter-driven compressors'
            ]
        },
        'hybrid': {
            name: 'Hybrid / Dual Fuel System',
            tagline: 'Maximum efficiency and comfort by combining a heat pump with a gas furnace backup.',
            reasons: [],
            benefits: [
                'Automatically switches between electric and gas for lowest cost',
                'Best possible efficiency ratings across all seasons',
                'Never worry about comfort even in the coldest Boston winters',
                'Significant long-term savings on heating and cooling bills'
            ]
        }
    };

    function calculateRecommendation() {
        var scores = { 'split': 0, 'heat-pump': 0, 'mini-split': 0, 'hybrid': 0 };
        var reasons = { 'split': [], 'heat-pump': [], 'mini-split': [], 'hybrid': [] };

        // Question 1: Home type
        var home = answers['home-type'];
        if (home === 'small-single') {
            scores['mini-split'] += 2;
            scores['heat-pump'] += 2;
            scores['split'] += 1;
            reasons['mini-split'].push('Mini-splits work great in smaller homes where zone control covers the whole space efficiently');
            reasons['heat-pump'].push('A heat pump is well-sized for a smaller single-family home');
        } else if (home === 'mid-single') {
            scores['split'] += 2;
            scores['heat-pump'] += 2;
            scores['hybrid'] += 1;
            reasons['split'].push('A traditional split system is a solid fit for a mid-size home with existing ductwork');
            reasons['heat-pump'].push('A heat pump can efficiently handle a mid-size home year-round');
        } else if (home === 'large-single') {
            scores['hybrid'] += 3;
            scores['split'] += 2;
            reasons['hybrid'].push('Larger homes benefit from the dual fuel approach — it covers high heating demand without sky-high energy bills');
            reasons['split'].push('A traditional system provides dependable coverage for a larger home');
        } else if (home === 'multi-family') {
            scores['mini-split'] += 3;
            scores['heat-pump'] += 1;
            reasons['mini-split'].push('Mini-splits are ideal for multi-family or condo living — each unit gets independent control without shared ductwork');
        }

        // Question 2: Current system
        var system = answers['current-system'];
        if (system === 'old-furnace') {
            scores['split'] += 2;
            scores['hybrid'] += 2;
            scores['heat-pump'] += 1;
            reasons['split'].push('Since you already have ductwork, a new furnace/AC swap is straightforward and cost-effective');
            reasons['hybrid'].push('Your existing ductwork makes a hybrid upgrade seamless — you get better efficiency without starting from scratch');
        } else if (system === 'boiler-no-ac') {
            scores['mini-split'] += 3;
            scores['heat-pump'] += 1;
            reasons['mini-split'].push('Without existing ductwork, a ductless mini-split adds cooling (and efficient heating) without tearing into walls');
        } else if (system === 'newer-system') {
            scores['hybrid'] += 2;
            scores['heat-pump'] += 2;
            reasons['hybrid'].push('Upgrading to a dual fuel system takes your efficiency to the next level while keeping your existing infrastructure');
            reasons['heat-pump'].push('A heat pump upgrade delivers noticeably better efficiency over your current setup');
        } else if (system === 'no-ductwork') {
            scores['mini-split'] += 4;
            reasons['mini-split'].push('With no ductwork in your home, a ductless mini-split is the natural choice — no major construction needed');
        }

        // Question 3: Budget
        var budget = answers['budget'];
        if (budget === 'low-upfront') {
            scores['split'] += 3;
            reasons['split'].push('A traditional split system has the lowest upfront cost of any whole-home HVAC solution');
        } else if (budget === 'balanced') {
            scores['heat-pump'] += 2;
            scores['mini-split'] += 1;
            reasons['heat-pump'].push('Heat pumps offer a strong balance — moderate upfront cost with real energy savings over time');
        } else if (budget === 'long-term') {
            scores['hybrid'] += 3;
            scores['heat-pump'] += 2;
            reasons['hybrid'].push('A hybrid system has a higher upfront cost, but the long-term energy savings are the best you can get');
            reasons['heat-pump'].push('Investing in a heat pump pays off with significantly lower monthly bills');
        }

        // Question 4: Efficiency
        var efficiency = answers['efficiency'];
        if (efficiency === 'not-priority') {
            scores['split'] += 2;
            reasons['split'].push('You want something that just works — a traditional system delivers reliable performance without complexity');
        } else if (efficiency === 'somewhat') {
            scores['heat-pump'] += 2;
            scores['mini-split'] += 1;
            reasons['heat-pump'].push('A heat pump gives you meaningful efficiency gains without going to the extreme');
        } else if (efficiency === 'very-important') {
            scores['hybrid'] += 2;
            scores['mini-split'] += 2;
            scores['heat-pump'] += 1;
            reasons['hybrid'].push('For maximum efficiency, the hybrid system automatically picks the cheapest fuel source at any given time');
            reasons['mini-split'].push('Mini-splits with inverter compressors are among the most energy-efficient systems on the market');
        }

        // Question 5: Comfort
        var comfort = answers['comfort'];
        if (comfort === 'uneven-temps') {
            scores['mini-split'] += 3;
            reasons['mini-split'].push('Zone-by-zone control means you can set different temperatures in every room — no more hot and cold spots');
        } else if (comfort === 'humidity') {
            scores['heat-pump'] += 2;
            scores['hybrid'] += 1;
            reasons['heat-pump'].push('Modern heat pumps handle both heating and dehumidification, keeping your home comfortable year-round');
        } else if (comfort === 'noise') {
            scores['mini-split'] += 2;
            scores['heat-pump'] += 1;
            reasons['mini-split'].push('Ductless mini-splits run at whisper-quiet levels — most people can\'t even tell they\'re on');
        } else if (comfort === 'air-quality') {
            scores['split'] += 1;
            scores['hybrid'] += 2;
            scores['heat-pump'] += 1;
            reasons['hybrid'].push('A ducted system with advanced filtration does the best job of cleaning and circulating air throughout your home');
        }

        // Find the winner
        var best = 'split';
        var bestScore = 0;
        for (var key in scores) {
            if (scores[key] > bestScore) {
                bestScore = scores[key];
                best = key;
            }
        }

        return { system: best, reasons: reasons[best] };
    }

    function showResults() {
        var result = calculateRecommendation();
        var sys = systems[result.system];
        var reasonsList = result.reasons;

        // Limit to top 4 reasons
        if (reasonsList.length > 4) reasonsList = reasonsList.slice(0, 4);

        // Build check icon SVG
        var checkSvg = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M20 6L9 17l-5-5"/></svg>';

        var html = '';
        html += '<div class="results-header">';
        html += '<div class="results-header-badge">Your Recommendation</div>';
        html += '<h2>We Found Your Match</h2>';
        html += '<p>Based on your answers, here\'s what we\'d recommend</p>';
        html += '</div>';
        html += '<div class="results-body">';
        html += '<div class="results-system-name">' + sys.name + '</div>';
        html += '<p class="results-system-tagline">' + sys.tagline + '</p>';
        html += '<div class="results-why-title">Why This System Fits Your Home</div>';
        html += '<ul class="results-reasons">';
        for (var i = 0; i < reasonsList.length; i++) {
            html += '<li>' + checkSvg + '<span>' + reasonsList[i] + '</span></li>';
        }
        html += '</ul>';
        html += '<div class="results-benefits">';
        html += '<div class="results-benefits-title">Key Benefits</div>';
        html += '<ul>';
        for (var j = 0; j < sys.benefits.length; j++) {
            html += '<li>' + sys.benefits[j] + '</li>';
        }
        html += '</ul>';
        html += '</div>';
        html += '<div class="results-cta">';
        html += '<a href="../quote.html" class="results-cta-btn results-cta-quote"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg> Get Instant Quote</a>';
        html += '<a href="tel:7814082506" class="results-cta-btn results-cta-call"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg> Call (781) 408-2506</a>';
        html += '</div>';
        html += '<div class="results-retake"><button onclick="retakeQuiz()">Retake the quiz</button></div>';
        html += '</div>';

        // Hide quiz UI, show results
        document.getElementById('quizProgress').style.display = 'none';
        document.getElementById('quizNav').style.display = 'none';
        var allQ = document.querySelectorAll('.quiz-question');
        for (var k = 0; k < allQ.length; k++) {
            allQ[k].classList.remove('active');
        }

        var resultsEl = document.getElementById('quizResults');
        resultsEl.innerHTML = html;
        resultsEl.classList.add('visible');

        // Scroll to results
        resultsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function retakeQuiz() {
        // Reset answers
        answers = {};
        var radios = document.querySelectorAll('#quizQuestions input[type="radio"]');
        for (var i = 0; i < radios.length; i++) {
            radios[i].checked = false;
        }
        // Hide results, show quiz
        document.getElementById('quizResults').classList.remove('visible');
        document.getElementById('quizProgress').style.display = 'flex';
        document.getElementById('quizNav').style.display = 'flex';
        showQuestion(0);
    }

    // ==================== INIT ====================
    buildQuestions();

    // Expose functions globally for onclick handlers
    window.startQuiz = startQuiz;
    window.nextQuestion = nextQuestion;
    window.prevQuestion = prevQuestion;
    window.retakeQuiz = retakeQuiz;

})();
</script>

<script>
document.querySelectorAll('.mobile-accordion-toggle').forEach(function(btn) {
    btn.addEventListener('click', function() { this.parentElement.classList.toggle('open'); });
});
</script>

<script src="../chat-widget.js"></script>
</body>
</html>
