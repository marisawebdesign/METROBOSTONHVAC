!function(){var o=L.map("serviceAreaMap",{center:[42.16,-70.98],zoom:10,zoomControl:!1,scrollWheelZoom:!1,attributionControl:!1});L.control.zoom({position:"topright"}).addTo(o),L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap &copy; CARTO",maxZoom:16,minZoom:9}).addTo(o);var t={boston:{lat:42.3601,lng:-71.0589,region:"metro"},brookline:{lat:42.3318,lng:-71.1212,region:"metro"},cambridge:{lat:42.3736,lng:-71.1097,region:"metro"},somerville:{lat:42.3876,lng:-71.0995,region:"metro"},newton:{lat:42.337,lng:-71.2092,region:"metro"},quincy:{lat:42.2529,lng:-71.0023,region:"metro"},dedham:{lat:42.2418,lng:-71.1663,region:"metro"},milton:{lat:42.2498,lng:-71.0662,region:"metro"},needham:{lat:42.2804,lng:-71.2328,region:"metro"},wellesley:{lat:42.2968,lng:-71.2924,region:"metro"},waltham:{lat:42.3765,lng:-71.2356,region:"metro"},medford:{lat:42.4184,lng:-71.1062,region:"metro"},malden:{lat:42.4251,lng:-71.0662,region:"metro"},watertown:{lat:42.3709,lng:-71.1828,region:"metro"},arlington:{lat:42.4153,lng:-71.1564,region:"metro"},belmont:{lat:42.3959,lng:-71.1789,region:"metro"},lexington:{lat:42.4473,lng:-71.2245,region:"metro"},norwood:{lat:42.1946,lng:-71.1995,region:"metro"},canton:{lat:42.1584,lng:-71.1448,region:"metro"},weston:{lat:42.3668,lng:-71.3031,region:"metro"},stoughton:{lat:42.1251,lng:-71.0984,region:"south-shore"},braintree:{lat:42.2041,lng:-70.9992,region:"south-shore"},weymouth:{lat:42.2188,lng:-70.9396,region:"south-shore"},randolph:{lat:42.1626,lng:-71.0418,region:"south-shore"},brockton:{lat:42.0834,lng:-71.0184,region:"south-shore"},avon:{lat:42.1307,lng:-71.0412,region:"south-shore"},holbrook:{lat:42.1551,lng:-70.9904,region:"south-shore"},abington:{lat:42.1048,lng:-70.9454,region:"south-shore"},rockland:{lat:42.1307,lng:-70.9076,region:"south-shore"},hanover:{lat:42.1132,lng:-70.812,region:"south-shore"},hingham:{lat:42.2418,lng:-70.8898,region:"south-shore"},norwell:{lat:42.1612,lng:-70.7932,region:"south-shore"},scituate:{lat:42.1951,lng:-70.7256,region:"south-shore"},marshfield:{lat:42.0918,lng:-70.7076,region:"south-shore"},plymouth:{lat:41.9584,lng:-70.6673,region:"south-shore"},easton:{lat:42.0243,lng:-71.1284,region:"south-shore"},sharon:{lat:42.1237,lng:-71.1784,region:"south-shore"},foxborough:{lat:42.0654,lng:-71.2476,region:"south-shore"},mansfield:{lat:42.0334,lng:-71.2189,region:"south-shore"},taunton:{lat:41.9001,lng:-71.0898,region:"south-shore"}};L.polygon([[42.455,-71.285],[42.455,-71.19],[42.445,-71.11],[42.43,-71.055],[42.425,-71.02],[42.408,-70.99],[42.385,-70.975],[42.37,-70.965],[42.365,-70.96],[42.355,-70.955],[42.34,-70.96],[42.33,-70.965],[42.315,-70.97],[42.3,-70.975],[42.28,-70.975],[42.26,-70.97],[42.245,-70.965],[42.235,-70.97],[42.22,-71],[42.195,-71.04],[42.16,-71.1],[42.155,-71.135],[42.17,-71.175],[42.19,-71.21],[42.225,-71.24],[42.265,-71.28],[42.3,-71.31],[42.34,-71.32],[42.38,-71.31],[42.42,-71.295],[42.44,-71.285]],{color:"#ff6b35",weight:2.5,fillColor:"#ff6b35",fillOpacity:.1,smoothFactor:1.5}).addTo(o),L.polygon([[42.235,-70.97],[42.245,-70.93],[42.27,-70.905],[42.265,-70.885],[42.255,-70.87],[42.248,-70.855],[42.235,-70.84],[42.22,-70.81],[42.21,-70.78],[42.2,-70.73],[42.195,-70.715],[42.17,-70.7],[42.14,-70.68],[42.105,-70.665],[42.07,-70.66],[42.02,-70.65],[41.975,-70.645],[41.95,-70.65],[41.925,-70.7],[41.895,-70.81],[41.885,-70.95],[41.88,-71.05],[41.89,-71.1],[41.92,-71.14],[41.96,-71.2],[42.02,-71.25],[42.06,-71.265],[42.1,-71.23],[42.125,-71.195],[42.15,-71.155],[42.155,-71.135],[42.16,-71.1],[42.195,-71.04],[42.22,-71],[42.235,-70.97]],{color:"#1a3a52",weight:2.5,fillColor:"#1a3a52",fillOpacity:.08,smoothFactor:1.5}).addTo(o);var e={};Object.keys(t).forEach(function(n){var r=t[n],l="metro"===r.region?"#ff6b35":"#1a3a52";e[n]=L.circleMarker([r.lat,r.lng],{radius:5,fillColor:l,color:"#fff",weight:2,fillOpacity:.8}).addTo(o);var a=n.charAt(0).toUpperCase()+n.slice(1);e[n].bindTooltip(a,{direction:"top",offset:[0,-8]})});var n=null,r=null;document.querySelectorAll(".map-city-list li").forEach(function(l){var a=l.getAttribute("data-city");l.addEventListener("mouseenter",function(){n&&n.classList.remove("active"),r&&(r.setRadius(5),r.closeTooltip()),l.classList.add("active"),n=l;var o=e[a];o&&(o.setRadius(12),o.openTooltip(),r=o)}),l.addEventListener("mouseleave",function(){l.classList.remove("active"),n=null,r&&(r.setRadius(5),r.closeTooltip(),r=null)}),l.addEventListener("click",function(){var e=t[a];e&&o.flyTo([e.lat,e.lng],13,{duration:.8})})}),L.marker([42.36,-71.12],{icon:L.divIcon({className:"region-label-icon",html:'<span style="background:rgba(255,107,53,0.9);color:#fff;padding:5px 14px;border-radius:6px;font-size:11px;font-weight:700;letter-spacing:1.5px;white-space:nowrap;box-shadow:0 2px 8px rgba(0,0,0,0.15)">BOSTON METRO</span>',iconSize:[120,26],iconAnchor:[60,13]})}).addTo(o),L.marker([42.06,-70.9],{icon:L.divIcon({className:"region-label-icon",html:'<span style="background:rgba(26,58,82,0.9);color:#fff;padding:5px 14px;border-radius:6px;font-size:11px;font-weight:700;letter-spacing:1.5px;white-space:nowrap;box-shadow:0 2px 8px rgba(0,0,0,0.15)">SOUTH SHORE</span>',iconSize:[120,26],iconAnchor:[60,13]})}).addTo(o)}(),function(){var o=document.querySelectorAll(".scroll-reveal");if(o.length){var t=new IntersectionObserver(function(o){o.forEach(function(o){o.isIntersecting&&(o.target.classList.add("revealed"),t.unobserve(o.target))})},{threshold:.15,rootMargin:"0px 0px -40px 0px"});o.forEach(function(o){t.observe(o)})}}(),function(){var o=document.getElementById("toolsTrack"),t=document.querySelectorAll("#toolsDots .tools-dot"),e=document.getElementById("toolsPrev"),n=document.getElementById("toolsNext"),r=document.querySelectorAll("#toolsInfo .tools-info-card");if(o){var l=0,a=o.children.length;e.addEventListener("click",function(){g(l-1)}),n.addEventListener("click",function(){g(l+1)}),t.forEach(function(o,t){o.addEventListener("click",function(){g(t)})});var i=0,s=!1;o.addEventListener("touchstart",function(o){i=o.touches[0].clientX,s=!0},{passive:!0}),o.addEventListener("touchend",function(o){if(s){var t=i-o.changedTouches[0].clientX;Math.abs(t)>40&&g(t>0?l+1:l-1),s=!1}},{passive:!0})}function g(e){e<0&&(e=a-1),e>=a&&(e=0),l=e,o.style.transform="translateX(-"+100*l+"%)";for(var n=0;n<t.length;n++)t[n].classList.toggle("active",n===l);for(var i=0;i<r.length;i++)r[i].classList.toggle("active",i===l)}}();